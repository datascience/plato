<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:x="http://java.sun.com/jsf/composite/htmlx"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	template="/WEB-INF/templates/default.xhtml">

	<ui:define name="title">SCAPE Planning Suite - Invitation</ui:define>

	<ui:define name="content">

		<f:event type="preRenderView" listener="#{groupInvitation.processActionToken()}" />

		<h1>Group Invitation</h1>
		<h:form>

			<input type="hidden" name="uid" value="#{param.uid}" />

			<a4j:outputPanel rendered="#{groupInvitation.invitationValid}">

				<fieldset>
					<h:outputText
						value="You have been invited to join the group #{groupInvitation.invitationGroupName}." />
				</fieldset>

				<div class="save-discard-proceed-buttons">
					<h:commandButton id="declineButton" value="Decline invitation"
						action="#{groupInvitation.declineInvitation()}" immediate="true"
						styleClass="discard-button" style="min-width: 150px;" />

					<div class="save-placeholder" style="min-width: 150px"></div>

					<h:commandButton id="acceptButton" value="Accept invitation"
						action="#{groupInvitation.acceptInvitation()}" immediate="true"
						styleClass="proceed-button" style="min-width: 150px;" />
				</div>
			</a4j:outputPanel>
		</h:form>

		<a4j:outputPanel rendered="#{!groupInvitation.invitationValid}">
			<fieldset id="text">
				<h:outputText value="You have been invited to join a group." />
			</fieldset>
		</a4j:outputPanel>

	</ui:define>
</ui:composition>
